function classOnScroll(selector,className,scrollDistance){var newClassOnScroll=new classOnScrollObject(selector,className,scrollDistance);newClassOnScroll.applyClass(),newClassOnScroll.scrollContainer.scroll(function(){newClassOnScroll.applyClass()})}jQuery(document).ready(function(){{var bodyVar=$("body");$(".search-all")}$(".user, .close").click(function(e){e.preventDefault(),e.stopPropagation(),bodyVar.toggleClass("quickmenu")}),$(".wrapper").on("click",function(){bodyVar.removeClass("quickmenu")}),$("#toggle").click(function(e){e.preventDefault(),$(".cross").toggleClass("open"),$("nav").toggleClass("open"),$("body").toggleClass("navopen")}),$(".pm-nuget").on("click",".nuget",function(){$(this).focus(),$(this).select()}),$(".tabs li").click(function(){var tab_id=$(this).attr("data-tab");$(".tabs li").removeClass("current"),$(".tab-content").removeClass("current"),$(this).addClass("current"),$("#"+tab_id).addClass("current")});var ink,d,x,y;$(".button, .inked").click(function(e){0===$(this).find(".ink").length&&$(this).prepend("<div class='ink'></div>"),ink=$(this).find(".ink"),ink.removeClass("animate"),ink.height()||ink.width()||(d=Math.max($(this).outerWidth(),$(this).outerHeight()),ink.css({height:d,width:d})),x=e.pageX-$(this).offset().left-ink.width()/2,y=e.pageY-$(this).offset().top-ink.height()/2,ink.css({top:y+"px",left:x+"px"}).addClass("animate")})});var classOnScrollObject=function(selector,className,scrollDistance){this.item=$(selector),this.itemClass=className,this.scrollDistance=scrollDistance,this.classApplied=!1,this.scrollContainer=$(window),this.fromTop=this.scrollContainer.scrollTop()};classOnScrollObject.prototype.applyClass=function(){this.fromTop=this.scrollContainer.scrollTop(),this.fromTop>this.scrollDistance&&this.classApplied===!1?(this.classApplied=!0,this.item.addClass(this.itemClass)):this.fromTop<this.scrollDistance&&this.classApplied===!0&&(this.classApplied=!1,this.item.removeClass(this.itemClass))};
function redirectToSearch(ev){13===ev.keyCode&&(ev.preventDefault(),window.location="/search?q="+this.value)}var projectSearch=_.debounce(function(){{var term=$(".project-search-input").val(),defaultListing=$(".projects-default-listing"),searchListing=$(".projects-search-listing");$(".projects-default-listing")}if(0===term.length&&(defaultListing.show(),searchListing.empty()),term.length>3){var url="/umbraco/api/OurSearch/GetProjectSearchResults",template=_.template($("script.search-item-project").html());$.ajax({dataType:"json",url:url,data:{term:term},success:function(response){if(defaultListing.hide(),searchListing.empty(),0===response.items.length){var linkhtml="<p>No results found</p>";searchListing.append(linkhtml)}_.each(response.items,function(item){var image=item.Fields.image&&item.Fields.image.length>0?item.Fields.image:"<i class='icon-Box'></i>",itemData={nodeName:item.Fields.nodeName,body:_.escape(item.Fields.body.substring(0,150)),url:item.Fields.url,karma:item.Fields.karma,downloads:item.Fields.downloads,versions:item.Fields.versions,image:image};searchListing.append(template(itemData))})}})}},300),docsSearch=_.debounce(function(){var term=this.value,defaultListing=$(".docs-default-listing"),searchListing=$(".docs-search-listing");if(0===term.length&&(defaultListing.show(),searchListing.empty()),term.length>3){var url="/umbraco/api/OurSearch/GetDocsSearchResults",template=_.template($("script.search-item-docs").html());searchListing.addClass("fadeResultOut"),$.ajax({dataType:"json",url:url,data:{term:term},success:function(response){if(defaultListing.hide(),searchListing.empty(),setTimeout(function(){searchListing.removeClass("fadeResultOut")},1e3),0===response.items.length){var linkhtml="<li>No documentation found</li>";searchListing.append(linkhtml)}_.each(response.items,function(item){var itemData={name:item.Fields.nodeName,body:_.escape(item.Fields.body.substring(0,150)),url:item.Fields.url};searchListing.append(template(itemData))})}})}},300),forumSearch=_.debounce(function(){var term=this.value,defaultListing=$(".forum-default-listing"),searchListing=$(".forum-search-listing"),searchTable=$(".table-striped");if(console.log(term),0===term.length&&(defaultListing.show(),searchListing.empty()),term.length>3){var url="/umbraco/api/OurSearch/GetForumSearchResults",template=_.template($("script.search-item-forum").html());searchTable.addClass("fadeResultOut"),$.ajax({dataType:"json",url:url,data:{term:term},success:function(response){if(defaultListing.hide(),searchListing.empty(),setTimeout(function(){searchTable.removeClass("fadeResultOut")},1e3),0===response.items.length){var linkhtml="<tr><td>No threads found</td></tr>";searchListing.append(linkhtml)}_.each(response.items,function(item){var itemData={name:item.Fields.nodeName,url:item.Fields.url,hasAnswer:1==item.Fields.solved,replies:item.Fields.replies,body:item.Fields.body.substring(0,150),forumUrl:item.Fields.parentId,forumName:"Category",updateDate:item.Fields.updateDate};searchListing.append(template(itemData))})}})}},300),globalSearch=_.debounce(function(){var term=this.value;if(0===term.length&&$(".search-all").removeClass("open"),term.length>3){var url="/umbraco/api/OurSearch/GetGlobalSearchResults",template=_.template($("script.search-item-template").html());$.ajax({dataType:"json",url:url,data:{term:term},success:function(response){if($(".search-all").addClass("open"),$(".search-all ul").empty(),_.each(response.items,function(item){var type=item.Fields.nodeTypeAlias,icon="icon-Chat";"documentation"===type&&(icon="icon-Book-alt"),"project"===type&&(icon="icon-Box");var itemData={icon:icon,name:item.Fields.nodeName,description:_.escape(item.Fields.body.substring(0,100)),url:item.Fields.url};$(".search-all ul").append(template(itemData))}),response.items.length>0){var linkhtml='<li class="search-view-all"><a href="/search?q='+response.term+'">View All results</a></li>';$(".search-all ul").append(linkhtml)}else $(".search-all ul").append("<li>No results</li>")}})}},300);jQuery(document).ready(function(){$(".docs-search-input").keydown(redirectToSearch).keyup(docsSearch),$(".forum-search-input").keydown(redirectToSearch).keyup(forumSearch),$(".search-input").keydown(redirectToSearch).keyup(globalSearch),$(".project-search-input").keydown(redirectToSearch).keyup(projectSearch)});